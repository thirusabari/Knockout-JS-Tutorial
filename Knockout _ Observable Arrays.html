<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- saved from url=(0058)https://knockoutjs.com/documentation/observableArrays.html -->
<html class="cufon-active cufon-ready gr__knockoutjs_com"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        
        <title>Knockout : Observable Arrays</title>
        <link href="./Knockout _ Observable Arrays_files/tripoli.simple.css" type="text/css" rel="stylesheet">
        
        <link rel="stylesheet" type="text/css" href="./Knockout _ Observable Arrays_files/styles.css">
        <link rel="stylesheet" type="text/css" href="./Knockout _ Observable Arrays_files/smallScreen.css" media="only screen and (max-device-width: 800px)">
        <link rel="shortcut icon" href="https://knockoutjs.com/img/favicon.ico">
        <!--[if IE]><link rel="stylesheet" type="text/css" href="../css/tripoli.simple.ie.css" /><![endif]-->
        <!--[if lte IE 7]><link rel="stylesheet" type="text/css" href="../css/ie6ie7.css" /><![endif]-->
        <!--[if lte IE 6]><link rel="stylesheet" type="text/css" href="../css/ie6.css" /><![endif]-->
        <script type="text/javascript" async="" src="./Knockout _ Observable Arrays_files/ga.js.download"></script><script type="text/javascript" src="./Knockout _ Observable Arrays_files/jquery-1.11.1.min.js.download"></script>
<script type="text/javascript" src="./Knockout _ Observable Arrays_files/knockout-latest.js.download"></script>
<script type="text/javascript" src="./Knockout _ Observable Arrays_files/cufon-yui.js.download"></script><style type="text/css">cufon{text-indent:0!important;}@media screen,projection{cufon{display:inline!important;display:inline-block!important;position:relative!important;vertical-align:middle!important;font-size:1px!important;line-height:1px!important;}cufon cufontext{display:-moz-inline-box!important;display:inline-block!important;width:0!important;height:0!important;text-align:left!important;text-indent:-10000in!important;}cufon canvas{position:relative!important;}cufonshy.cufon-shy-disabled,.cufon-viewport-resizing cufonshy{display:none!important;}cufonglue{white-space:nowrap!important;display:inline-block!important;}.cufon-viewport-resizing cufonglue{white-space:normal!important;}}@media print{cufon{padding:0!important;}cufon canvas{display:none!important;}}</style>
<script type="text/javascript" src="./Knockout _ Observable Arrays_files/titilliummaps.font.js.download"></script>
<script type="text/javascript" src="./Knockout _ Observable Arrays_files/json2.js.download"></script>

<!--[if lt IE 7]>
<script defer type="text/javascript" src="../js/ie6pngfix.js"></script>
<![endif]-->

<script type="text/javascript" src="./Knockout _ Observable Arrays_files/shCore.js.download"></script>
<script type="text/javascript" src="./Knockout _ Observable Arrays_files/shBrushJScript.js.download"></script>
<script type="text/javascript" src="./Knockout _ Observable Arrays_files/shBrushXml.js.download"></script>
<script type="text/javascript" src="./Knockout _ Observable Arrays_files/shBrushBash.js.download"></script>
<link type="text/css" rel="stylesheet" href="./Knockout _ Observable Arrays_files/shThemeFadeToGrey.css">

<script type="text/javascript">
    $(function() {
        // Fancy fonts
        Cufon.replace('.titillium');
        Cufon.replace('.engraved', {
            textShadow: 'rgba(253, 224, 217, 0.45) 1.2px 1px'
        });

        // Syntax highlighting
        $("pre > code").each(function() {
            var codeText = $(this).text();
            $(this).parent().text(codeText).addClass("brush:js");
        });
        SyntaxHighlighter.defaults['toolbar'] = false;
        SyntaxHighlighter.defaults['gutter'] = false;
        SyntaxHighlighter.all();

        // Highlight current top menu item
        var desiredMenuItem = '' || '';
        if (desiredMenuItem) {
            $(".main-menu a[rel=" + desiredMenuItem + "]").addClass("active");
        }

        // Highlight current left-hand-nav menu item
        var urlFilename = location.href.match(/\/([^\/]+)$/);
        if (urlFilename) {
            $(".leftColContents li:has(a[href$='" + urlFilename[1] + "'])").addClass("active");
        }
    });
</script>

<!-- Normally, if using AMD, you'd reference your loader library (such as require.js) *first*,
     and let it load other dependencies such as knockout.js itself. However, this documentation
     site pre-dates our use of AMD and assumes 'ko' and other libraries as global objects in
     many places. So for back-compatibility, we reference require.js *after* loading knockout.js
     and various other libraries as globals. -->
<script type="text/javascript" src="./Knockout _ Observable Arrays_files/require.js.download"></script>
<script type="text/javascript">
require.config({
    paths: {
        'knockout': '../downloads/knockout-latest',
        'text':     '../js/require.text'
    }
});

// To keep the network tab clear when the visitor is running live examples,
// preload the following.
require(['text', 'knockout'], function() {});
</script>

    <script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="text" src="./Knockout _ Observable Arrays_files/require.text.js.download"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="knockout" src="./Knockout _ Observable Arrays_files/knockout-latest.js.download"></script><script src="chrome-extension://mooikfkahbdckldjjndioackbalphokd/assets/prompt.js"></script></head>
    <body data-gr-c-s-loaded="true">
        <div id="wrapper">
            <div class="vspace"></div>
            <div class="main-menu">
    <ul>
        <li><a rel="home" href="https://knockoutjs.com/index.html">Home</a></li>
        <li><a rel="installation" href="https://knockoutjs.com/downloads/index.html">Download / Install</a></li>
        <li><a rel="tutorials" href="http://learn.knockoutjs.com/">Tutorials</a></li>
        <li><a rel="examples" href="https://knockoutjs.com/examples/">Live examples</a></li>
        <li><a rel="documentation" href="https://knockoutjs.com/documentation/introduction.html">Documentation</a></li>
        <li><a href="http://groups.google.com/group/knockoutjs">Forum</a></li>
        <li><a href="http://github.com/SteveSanderson/knockout">Source</a></li>
    </ul>
</div>
<div class="clear"></div>

            <div class="vspace"></div>
            
<div>
	<div class="leftCol">
		<div class="leftColBackground">&nbsp;</div>
		<div class="leftColContents">
			<h1>Getting started</h1>

<ol>
    <li><a href="https://knockoutjs.com/documentation/introduction.html">How KO works and what benefits it brings</a></li>
    <li><a href="https://knockoutjs.com/downloads/index.html">Downloading and installing</a></li>
</ol>

<h1>Observables</h1>

<ol>
    <li><a href="https://knockoutjs.com/documentation/observables.html">Creating <em>view models</em> with <em>observables</em></a></li>
    <li class="active"><a href="https://knockoutjs.com/documentation/observableArrays.html">Working with <em>observable arrays</em></a></li>
</ol>

<h2>Computed observables</h2>
<ol>
    <li><a href="https://knockoutjs.com/documentation/computedObservables.html">Using <em>computed observables</em></a></li>
    <li><a href="https://knockoutjs.com/documentation/computed-writable.html"><em>Writable</em> computed observables</a></li>
    <li><a href="https://knockoutjs.com/documentation/computed-dependency-tracking.html">How dependency tracking works</a></li>
    <li><a href="https://knockoutjs.com/documentation/computed-pure.html"><em>Pure</em> computed observables</a></li>
    <li><a href="https://knockoutjs.com/documentation/computed-reference.html">Reference</a></li>
</ol>

<h1>Bindings</h1>

<h2>Controlling text and appearance</h2>
<ol>
    <li><a href="https://knockoutjs.com/documentation/visible-binding.html">The <code>visible</code> and <code>hidden</code> bindings</a></li>
    <li><a href="https://knockoutjs.com/documentation/text-binding.html">The <code>text</code> binding</a></li>
    <li><a href="https://knockoutjs.com/documentation/html-binding.html">The <code>html</code> binding</a></li>
    <li><a href="https://knockoutjs.com/documentation/css-binding.html">The <code>class</code> and <code>css</code> bindings</a></li>
    <li><a href="https://knockoutjs.com/documentation/style-binding.html">The <code>style</code> binding</a></li>
    <li><a href="https://knockoutjs.com/documentation/attr-binding.html">The <code>attr</code> binding</a></li>
</ol>

<h2>Control flow</h2>
<ol>
    <li><a href="https://knockoutjs.com/documentation/foreach-binding.html">The <code>foreach</code> binding</a></li>
    <li><a href="https://knockoutjs.com/documentation/if-binding.html">The <code>if</code> and <code>ifnot</code> bindings</a></li>
    <li><a href="https://knockoutjs.com/documentation/with-binding.html">The <code>with</code> and <code>using</code> bindings</a></li>
    <li><a href="https://knockoutjs.com/documentation/let-binding.html">The <code>let</code> binding</a></li>
    <li><a href="https://knockoutjs.com/documentation/component-binding.html">The <code>component</code> binding</a></li>
    <li><a href="https://knockoutjs.com/documentation/binding-lifecycle-events.html">Binding lifecycle events</a></li>
</ol>

<h2>Working with form fields</h2>
<ol>
    <li><a href="https://knockoutjs.com/documentation/click-binding.html">The <code>click</code> binding</a></li>
    <li><a href="https://knockoutjs.com/documentation/event-binding.html">The <code>event</code> binding</a></li>
    <li><a href="https://knockoutjs.com/documentation/submit-binding.html">The <code>submit</code> binding</a></li>
    <li><a href="https://knockoutjs.com/documentation/enable-binding.html">The <code>enable</code> and <code>disable</code> bindings</a></li>
    <li><a href="https://knockoutjs.com/documentation/value-binding.html">The <code>value</code> binding</a></li>
    <li><a href="https://knockoutjs.com/documentation/textinput-binding.html">The <code>textInput</code> binding</a></li>
    <li><a href="https://knockoutjs.com/documentation/hasfocus-binding.html">The <code>hasFocus</code> binding</a></li>
    <li><a href="https://knockoutjs.com/documentation/checked-binding.html">The <code>checked</code> binding</a></li>
    <li><a href="https://knockoutjs.com/documentation/options-binding.html">The <code>options</code> binding</a></li>
    <li><a href="https://knockoutjs.com/documentation/selectedOptions-binding.html">The <code>selectedOptions</code> binding</a></li>
    <li><a href="https://knockoutjs.com/documentation/uniqueName-binding.html">The <code>uniqueName</code> binding</a></li>
</ol>

<h2>Rendering templates</h2>
<ol>
    <li><a href="https://knockoutjs.com/documentation/template-binding.html">The <code>template</code> binding</a></li>
</ol>

<h2>Binding syntax</h2>
<ol>
    <li><a href="https://knockoutjs.com/documentation/binding-syntax.html">The <code>data-bind</code> syntax</a></li>
    <li><a href="https://knockoutjs.com/documentation/binding-context.html">The binding context</a></li>
</ol>

<h1>Creating custom bindings</h1>
<ol>
    <li><a href="https://knockoutjs.com/documentation/custom-bindings.html">Creating custom bindings</a></li>
    <li><a href="https://knockoutjs.com/documentation/custom-bindings-controlling-descendant-bindings.html">Controlling descendant bindings</a></li>
    <li><a href="https://knockoutjs.com/documentation/custom-bindings-for-virtual-elements.html">Supporting virtual elements</a></li>
    <li><a href="https://knockoutjs.com/documentation/custom-bindings-disposal.html">Custom disposal logic</a></li>
    <li><a href="https://knockoutjs.com/documentation/binding-preprocessing.html">Preprocessing: Extending the binding syntax</a></li>
</ol>

<h1>Components</h1>
<ol>
    <li><a href="https://knockoutjs.com/documentation/component-overview.html">Overview: What <em>components</em> and <em>custom elements</em> offer</a></li>
    <li><a href="https://knockoutjs.com/documentation/component-registration.html">Defining and registering components</a></li>
    <li><a href="https://knockoutjs.com/documentation/component-binding.html">The <code>component</code> binding</a></li>
    <li><a href="https://knockoutjs.com/documentation/component-custom-elements.html">Using custom elements</a></li>
    <li><a href="https://knockoutjs.com/documentation/component-loaders.html">Advanced: Custom component loaders</a></li>
</ol>

<h1>Further techniques</h1>
<ol>
    <li><a href="https://knockoutjs.com/documentation/json-data.html">Loading and saving JSON data</a></li>
    <li><a href="https://knockoutjs.com/documentation/extenders.html">Extending observables</a></li>
    <li><a href="https://knockoutjs.com/documentation/deferred-updates.html">Deferred updates</a></li>
    <li><a href="https://knockoutjs.com/documentation/rateLimit-observable.html">Rate-limiting observables</a></li>
    <li><a href="https://knockoutjs.com/documentation/unobtrusive-event-handling.html">Unobtrusive event handling</a></li>
    <li><a href="https://knockoutjs.com/documentation/fn.html">Using <code>fn</code> to add custom functions</a></li>
    <li><a href="https://knockoutjs.com/documentation/microtasks.html">Microtasks</a></li>
    <li><a href="https://knockoutjs.com/documentation/asynchronous-error-handling.html">Asynchronous error handling</a></li>
</ol>

<h1>Plugins</h1>
<ol>
    <li><a href="https://knockoutjs.com/documentation/plugins-mapping.html">The <code>mapping</code> plugin</a></li>
</ol>

<h1>More information</h1>
<ol>
    <li><a href="https://knockoutjs.com/documentation/browser-support.html">Browser support</a></li>
    <li><a href="http://groups.google.com/group/knockoutjs">Getting help</a></li>
    <li><a href="https://knockoutjs.com/documentation/links.html">Links to tutorials &amp; examples</a></li>
    <li><a href="https://knockoutjs.com/documentation/amd-loading.html">Usage with AMD using RequireJs (Asynchronous Module Definition)</a></li>
</ol>

		</div>
	</div>
	<div class="rightCol">
		<div class="documentation sticker">
		    <div class="content">
		    	<h1>Observable Arrays</h1>
		    	<p>If you want to detect and respond to changes on one object, you’d use <a href="https://knockoutjs.com/documentation/observables.html">observables</a>. If you want to detect and respond to changes of a <em>collection of things</em>, use an <code class="highlighter-rouge">observableArray</code>. This is useful in many scenarios where you’re displaying or editing multiple values and need repeated sections of UI to appear and disappear as items are added and removed.</p>

<h3 id="example">Example</h3>

<div class="highlighter-rouge"><div class="highlight"><div><div id="highlighter_241469" class="syntaxhighlighter nogutter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js keyword">var</code> <code class="js plain">myObservableArray = ko.observableArray();&nbsp;&nbsp;&nbsp; </code><code class="js comments">// Initially an empty array</code></div><div class="line number2 index1 alt1"><code class="js plain">myObservableArray.push(</code><code class="js string">'Some value'</code><code class="js plain">);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="js comments">// Adds the value and notifies observers</code></div></div></td></tr></tbody></table></div></div></div></div>

<p>To see how you can bind the <code class="highlighter-rouge">observableArray</code> to a UI and let the user modify it, see <a href="https://knockoutjs.com/examples/simpleList.html">the simple list example</a>.</p>

<h3 id="key-point-an-observablearray-tracks-which-objects-are-in-the-array-not-the-state-of-those-objects">Key point: An observableArray tracks which objects are <em>in</em> the array, <em>not</em> the state of those objects</h3>

<p>Simply putting an object into an <code class="highlighter-rouge">observableArray</code> doesn’t make all of that object’s properties themselves observable. Of course, you can make those properties observable if you wish, but that’s an independent choice. An <code class="highlighter-rouge">observableArray</code> just tracks which objects it holds, and notifies listeners when objects are added or removed.</p>

<h2 id="prepopulating-an-observablearray">Prepopulating an observableArray</h2>

<p>If you want your observable array <strong>not</strong> to start empty, but to contain some initial items, pass those items as an array to the constructor. For example,</p>

<div class="highlighter-rouge"><div class="highlight"><div><div id="highlighter_850499" class="syntaxhighlighter nogutter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js comments">// This observable array initially contains three objects</code></div><div class="line number2 index1 alt1"><code class="js keyword">var</code> <code class="js plain">anotherObservableArray = ko.observableArray([</code></div><div class="line number3 index2 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">{ name: </code><code class="js string">"Bungle"</code><code class="js plain">, type: </code><code class="js string">"Bear"</code> <code class="js plain">},</code></div><div class="line number4 index3 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">{ name: </code><code class="js string">"George"</code><code class="js plain">, type: </code><code class="js string">"Hippo"</code> <code class="js plain">},</code></div><div class="line number5 index4 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">{ name: </code><code class="js string">"Zippy"</code><code class="js plain">, type: </code><code class="js string">"Unknown"</code> <code class="js plain">}</code></div><div class="line number6 index5 alt1"><code class="js plain">]);</code></div></div></td></tr></tbody></table></div></div></div></div>

<h2 id="reading-information-from-an-observablearray">Reading information from an observableArray</h2>

<p>Behind the scenes, an <code class="highlighter-rouge">observableArray</code> is actually an <a href="https://knockoutjs.com/documentation/observables.html">observable</a> whose value is an array (plus, <code class="highlighter-rouge">observableArray</code> adds some additional features described below). So, you can get the underlying JavaScript array by invoking the <code class="highlighter-rouge">observableArray</code> as a function with no parameters, just like any other observable. Then you can read information from that underlying array. For example,</p>

<div class="highlighter-rouge"><div class="highlight"><div><div id="highlighter_946569" class="syntaxhighlighter nogutter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">alert(</code><code class="js string">'The length of the array is '</code> <code class="js plain">+ myObservableArray().length);</code></div><div class="line number2 index1 alt1"><code class="js plain">alert(</code><code class="js string">'The first element is '</code> <code class="js plain">+ myObservableArray()[0]);</code></div></div></td></tr></tbody></table></div></div></div></div>

<p>Technically you can use any of the native JavaScript array functions to operate on that underlying array, but normally there’s a better alternative. KO’s <code class="highlighter-rouge">observableArray</code> has equivalent functions of its own, and they’re more useful because:</p>

<ol>
  <li>They work on all targeted browsers. (For example, the native JavaScript <code class="highlighter-rouge">indexOf</code> function doesn’t work on IE 8 or earlier, but KO’s <code class="highlighter-rouge">indexOf</code> works everywhere.)</li>
  <li>For functions that modify the contents of the array, such as <code class="highlighter-rouge">push</code> and <code class="highlighter-rouge">splice</code>, KO’s methods automatically trigger the dependency tracking mechanism so that all registered listeners are notified of the change, and your UI is automatically updated which means there is a significant difference between using KO’s methods (i.e., <code class="highlighter-rouge">observableArray.push(...)</code> ) and JavaScript native array methods (i.e., <code class="highlighter-rouge">observableArray().push(...)</code>) as the latter don’t send any notification to the array’s subscribers that its content has changed.</li>
</ol>

<p>The rest of this page describes <code class="highlighter-rouge">observableArray</code>’s functions for reading and writing array information.</p>

<h3 id="indexof">indexOf</h3>

<p>The <code class="highlighter-rouge">indexOf</code> function returns the index of the first array item that equals your parameter. For example, <code class="highlighter-rouge">myObservableArray.indexOf('Blah')</code> will return the zero-based index of the first array entry that equals <code class="highlighter-rouge">Blah</code>, or the value <code class="highlighter-rouge">-1</code> if no matching value was found.</p>

<h3 id="slice">slice</h3>

<p>The <code class="highlighter-rouge">slice</code> function is the <code class="highlighter-rouge">observableArray</code> equivalent of the native JavaScript <code class="highlighter-rouge">slice</code> function (i.e., it returns the entries of your array from a given start index up to a given end index). Calling <code class="highlighter-rouge">myObservableArray.slice(...)</code> is equivalent to calling the same method on the underlying array (i.e., <code class="highlighter-rouge">myObservableArray().slice(...)</code>).</p>

<h2 id="manipulating-an-observablearray">Manipulating an observableArray</h2>

<p><code class="highlighter-rouge">observableArray</code> exposes a familiar set of functions for modifying the contents of the array and notifying listeners.</p>

<h3 id="pop-push-shift-unshift-reverse-sort-splice">pop, push, shift, unshift, reverse, sort, splice</h3>

<p>All of these functions are equivalent to running the native JavaScript array functions on the underlying array, and then notifying listeners about the change:</p>

<ul>
  <li><code class="highlighter-rouge">push( value )</code> — Adds a new item to the end of array.</li>
  <li><code class="highlighter-rouge">pop()</code> — Removes the last value from the array and returns it.</li>
  <li><code class="highlighter-rouge">unshift( value )</code> — Inserts a new item at the beginning of the array.</li>
  <li><code class="highlighter-rouge">shift()</code> — Removes the first value from the array and returns it.</li>
  <li><code class="highlighter-rouge">reverse()</code> — Reverses the order of the array and returns the <code class="highlighter-rouge">observableArray</code> (not the underlying array).</li>
  <li><code class="highlighter-rouge">sort()</code> — Sorts the array contents and returns the <code class="highlighter-rouge">observableArray</code>. The default sort is alphabetical, but you can optionally pass a function to control how the array should be sorted. See the example under <code class="highlighter-rouge">sorted</code> below.</li>
  <li><code class="highlighter-rouge">splice()</code> — Removes and returns a given number of elements starting from a given index. For example, <code class="highlighter-rouge">myObservableArray.splice(1, 3)</code> removes three elements starting from index position 1 (i.e., the 2nd, 3rd, and 4th elements) and returns them as an array.</li>
</ul>

<p>For more details about these <code class="highlighter-rouge">observableArray</code> functions, see the equivalent documentation of the <a href="https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array#Methods_2">standard JavaScript array functions</a>.</p>

<h3 id="sorted-and-reversed">sorted and reversed</h3>

<ul>
  <li>
    <p><code class="highlighter-rouge">sorted()</code> — Returns a sorted <strong>copy</strong> of the array. This is preferable to <code class="highlighter-rouge">sort</code> if you want to leave the observable array in its original order but need to display it in a specific order.</p>

    <p>The default sort is alphabetical, but you can optionally pass a function to control how the array should be sorted. Your function should accept any two objects from the array and return a negative value if the first argument is smaller, a positive value is the second is smaller, or zero to treat them as equal. For example, to sort an array of ‘person’ objects by last name, you could write:</p>

    <div class="highlighter-rouge"><div class="highlight"><div><div id="highlighter_57785" class="syntaxhighlighter nogutter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js keyword">var</code> <code class="js plain">mySortedArray = ko.pureComputed(</code><code class="js keyword">function</code> <code class="js plain">() {</code></div><div class="line number2 index1 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword">return</code> <code class="js plain">myObservableArray.sorted(</code><code class="js keyword">function</code> <code class="js plain">(left, right) {</code></div><div class="line number3 index2 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js keyword">return</code> <code class="js plain">left.lastName === right.lastName ? 0</code></div><div class="line number4 index3 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">: left.lastName &lt; right.lastName ? -1</code></div><div class="line number5 index4 alt2"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">: 1;</code></div><div class="line number6 index5 alt1"><code class="js spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="js plain">});</code></div><div class="line number7 index6 alt2"><code class="js plain">});</code></div></div></td></tr></tbody></table></div></div></div>    </div>
  </li>
  <li>
    <p><code class="highlighter-rouge">reversed()</code> — Returns a reversed <strong>copy</strong> of the array.</p>
  </li>
</ul>

<h3 id="replace-remove-and-removeall">replace, remove and removeAll</h3>

<p><code class="highlighter-rouge">observableArray</code> adds some more useful methods that aren’t found on JavaScript arrays by default:</p>

<ul>
  <li><code class="highlighter-rouge">replace( oldItem, newItem )</code> — Replaces the first value that equals <code class="highlighter-rouge">oldItem</code> with <code class="highlighter-rouge">newItem</code>.</li>
  <li><code class="highlighter-rouge">remove( someItem )</code> — Removes all values that equal <code class="highlighter-rouge">someItem</code> and returns them as an array.</li>
  <li><code class="highlighter-rouge">remove( function (item) { return item.age &lt; 18; } )</code> — Removes all values whose <code class="highlighter-rouge">age</code> property is less than 18, and returns them as an array.</li>
  <li><code class="highlighter-rouge">removeAll( ['Chad', 132, undefined] )</code> — Removes all values that equal <code class="highlighter-rouge">'Chad'</code>, <code class="highlighter-rouge">123</code>, or <code class="highlighter-rouge">undefined</code> and returns them as an array.</li>
  <li><code class="highlighter-rouge">removeAll()</code> — Removes all values and returns them as an array.</li>
</ul>

<h3 id="destroy-and-destroyall">destroy and destroyAll (Note: Usually relevant to Ruby on Rails developers only)</h3>

<p>The <code class="highlighter-rouge">destroy</code> and <code class="highlighter-rouge">destroyAll</code> functions are mainly intended as a convenience for developers using Ruby on Rails:</p>

<ul>
  <li><code class="highlighter-rouge">destroy( someItem )</code> — Finds any objects in the array that equal <code class="highlighter-rouge">someItem</code> and gives them a special property called <code class="highlighter-rouge">_destroy</code> with value <code class="highlighter-rouge">true</code>.</li>
  <li><code class="highlighter-rouge">destroy( function (someItem) { return someItem.age &lt; 18; } )</code> — Finds any objects in the array whose <code class="highlighter-rouge">age</code> property is less than 18, and gives those objects a special property called <code class="highlighter-rouge">_destroy</code> with value <code class="highlighter-rouge">true</code>.</li>
  <li><code class="highlighter-rouge">destroyAll( ['Chad', 132, undefined] )</code> — Finds any objects in the array that equal <code class="highlighter-rouge">'Chad'</code>, <code class="highlighter-rouge">123</code>, or <code class="highlighter-rouge">undefined</code> and gives them a special property called <code class="highlighter-rouge">_destroy</code> with value <code class="highlighter-rouge">true</code>.</li>
  <li><code class="highlighter-rouge">destroyAll()</code> — Gives a special property called <code class="highlighter-rouge">_destroy</code> with value <code class="highlighter-rouge">true</code> to all objects in the array.</li>
</ul>

<p>So, what’s this <code class="highlighter-rouge">_destroy</code> thing all about? It’s only really interesting to Rails developers. The convention in Rails is that, when you pass into an action a JSON object graph, the framework can automatically convert it to an ActiveRecord object graph and then save it to your database. It knows which of the objects are already in your database, and issues the correct INSERT or UPDATE statements. To tell the framework to DELETE a record, you just mark it with <code class="highlighter-rouge">_destroy</code> set to <code class="highlighter-rouge">true</code>.</p>

<p>When Knockout renders a <code class="highlighter-rouge">foreach</code> binding with the parameter <code class="highlighter-rouge">includeDestroyed: false</code> set, it will hide any objects marked with <code class="highlighter-rouge">_destroy</code> equal to <code class="highlighter-rouge">true</code>. So, you can have some kind of “delete” button that invokes the <code class="highlighter-rouge">destroy(someItem)</code> method on the array, and this will immediately cause the specified item to vanish from the visible UI. Later, when you submit the JSON object graph to Rails, that item will also be deleted from the database (while the other array items will be inserted or updated as usual).</p>

<h2 id="determining-if-a-property-is-an-observablearray">Determining if a property is an observableArray</h2>

<p>In some scenarios, it is useful to programmatically determine if you are dealing with an observableArray. Knockout provides a utility function, <code class="highlighter-rouge">ko.isObservableArray</code> to help with this situation.</p>

<h2 id="delaying-andor-suppressing-change-notifications">Delaying and/or suppressing change notifications</h2>

<p>Normally, an <code class="highlighter-rouge">observableArray</code> notifies its subscribers immediately, as soon as it’s changed. But if an <code class="highlighter-rouge">observableArray</code> is changed repeatedly or triggers expensive updates, you may get better performance by limiting or delaying change notifications. This is accomplished using the <a href="https://knockoutjs.com/documentation/rateLimit-observable.html"><code class="highlighter-rouge">rateLimit</code> extender</a> like this:</p>

<div class="highlighter-rouge"><div class="highlight"><div><div id="highlighter_25192" class="syntaxhighlighter nogutter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js comments">// Ensure it notifies about changes no more than once per 50-millisecond period</code></div><div class="line number2 index1 alt1"><code class="js plain">myViewModel.myObservableArray.extend({ rateLimit: 50 });</code></div></div></td></tr></tbody></table></div></div></div></div>

<h2 id="tracking-array-changes">Tracking array changes</h2>

<p>Although you can subscribe to and access an <code class="highlighter-rouge">observableArray</code> just like any other observable, Knockout also provides a super-fast method to find out how an observable array has changed (i.e., which items were just added, deleted, or moved). You subscribe to array changes as follows:</p>

<div class="highlighter-rouge"><div class="highlight"><div><div id="highlighter_844294" class="syntaxhighlighter nogutter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">obsArray.subscribe(fn, thisArg, </code><code class="js string">"arrayChange"</code><code class="js plain">);</code></div></div></td></tr></tbody></table></div></div></div></div>

<p>The main advantages of subscribing to changes:</p>

<ul>
  <li>
    <p>Performance is <code class="highlighter-rouge">O(1)</code> in most cases, i.e., there’s basically no performance implication at all, because for straightforward operations, (<code class="highlighter-rouge">push</code>, <code class="highlighter-rouge">splice</code>, etc.) Knockout supplies the change log without running any difference algorithm. Knockout only falls back on an algorithm if you’ve made an arbitrary change without using a typical array mutation function.</p>
  </li>
  <li>
    <p>The change log just gives you the items that actually changed.</p>
  </li>
</ul>

<p>Here are examples of how the changes are reported:</p>

<div class="highlighter-rouge"><div class="highlight"><div><div id="highlighter_997316" class="syntaxhighlighter nogutter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js keyword">var</code> <code class="js plain">myArray = ko.observableArray([</code><code class="js string">"Alpha"</code><code class="js plain">, </code><code class="js string">"Beta"</code><code class="js plain">, </code><code class="js string">"Gamma"</code><code class="js plain">]);</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="js plain">myArray.push(</code><code class="js string">"Delta"</code><code class="js plain">);</code></div><div class="line number4 index3 alt1"><code class="js comments">// Changes: [{ index: 3, status: 'added', value: 'Delta' }]</code></div><div class="line number5 index4 alt2"><code class="js comments">// New value: ["Alpha", "Beta", "Gamma", "Delta"]</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="js plain">myArray.pop();</code></div><div class="line number8 index7 alt1"><code class="js comments">// Changes: [{ index: 3, status: 'deleted', value: 'Delta' }]</code></div><div class="line number9 index8 alt2"><code class="js comments">// New value: ["Alpha", "Beta", "Gamma"]</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="js plain">myArray.splice(1, 2, </code><code class="js string">"Omega"</code><code class="js plain">);</code></div><div class="line number12 index11 alt1"><code class="js comments">// Changes:</code></div><div class="line number13 index12 alt2"><code class="js comments">// [{ index: 1, status: 'deleted', value: 'Beta' },</code></div><div class="line number14 index13 alt1"><code class="js comments">//&nbsp; { index: 1, status: 'added', value: 'Omega' },</code></div><div class="line number15 index14 alt2"><code class="js comments">//&nbsp; { index: 2, status: 'deleted', value: 'Gamma' }]</code></div><div class="line number16 index15 alt1"><code class="js comments">// New value: ["Alpha", "Omega"]</code></div><div class="line number17 index16 alt2">&nbsp;</div><div class="line number18 index17 alt1"><code class="js plain">myArray.reverse();</code></div><div class="line number19 index18 alt2"><code class="js comments">// Changes:</code></div><div class="line number20 index19 alt1"><code class="js comments">// [{ index: 0, moved: 1, status: 'deleted', value: 'Alpha' },</code></div><div class="line number21 index20 alt2"><code class="js comments">//&nbsp; { index: 1, moved: 0, status: 'added', value: 'Alpha' }]</code></div><div class="line number22 index21 alt1"><code class="js comments">// New value: ["Omega", "Alpha"]</code></div></div></td></tr></tbody></table></div></div></div></div>

<p>As shown above, the changes are reported as a list of <em>added</em> and <em>deleted</em> values. The indexes for <em>deleted</em> items refer to the original array, and the indexes for <em>added</em> items refer to the new array.</p>

<p>When items are re-ordered, as shown in the last example above, you will also get <em>moved</em> information. You can choose to ignore the <em>moved</em> information and just interpret it as the original <code class="highlighter-rouge">Alpha</code> being deleted and a different <code class="highlighter-rouge">Alpha</code> being added to the array’s end. Or you can recognize that the <em>moved</em> information tells you that you can think of the <em>added</em> and <em>deleted</em> values being the same item that just changes position (by matching up the indexes).</p>

<p>An <code class="highlighter-rouge">observableArray</code> has array tracking enabled at construction, but you can extend any other <code class="highlighter-rouge">subscribable</code> (i.e. <code class="highlighter-rouge">ko.observable</code> and <code class="highlighter-rouge">ko.computed</code>) as follows:</p>

<div class="highlighter-rouge"><div class="highlight"><div><div id="highlighter_192513" class="syntaxhighlighter nogutter  js"><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="js plain">trackable = ko.observable().extend({trackArrayChanges: </code><code class="js keyword">true</code><code class="js plain">});</code></div></div></td></tr></tbody></table></div></div></div></div>

		    </div>

		    <div class="clear"></div>
		</div>
	</div>
</div>

            <div class="clear"></div>
            <div class="main-menu">
    <ul>
        <li><a rel="home" href="https://knockoutjs.com/index.html">Home</a></li>
        <li><a rel="installation" href="https://knockoutjs.com/downloads/index.html">Download / Install</a></li>
        <li><a rel="tutorials" href="http://learn.knockoutjs.com/">Tutorials</a></li>
        <li><a rel="examples" href="https://knockoutjs.com/examples/">Live examples</a></li>
        <li><a rel="documentation" href="https://knockoutjs.com/documentation/introduction.html">Documentation</a></li>
        <li><a href="http://groups.google.com/group/knockoutjs">Forum</a></li>
        <li><a href="http://github.com/SteveSanderson/knockout">Source</a></li>
    </ul>
</div>
<div class="clear"></div>

        </div>

        <div id="page-footer">(c) knockoutjs.com</div>

        <script type="text/javascript">
            // Analytics
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-65756-7']);
            _gaq.push(['_trackPageview']);
            (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
    

</body></html>